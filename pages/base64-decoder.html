<html>
  <body>
    <textarea id="input" oninput="onChange(event)" style="width: 100%; min-height: 5em; max-height: 50vh;"></textarea>
    <pre id="output" style="border: 1px solid black; padding: 20px;"></pre>

    <script>
      const input = document.getElementById("input");
      const output = document.getElementById("output");

      function prettify(encoded) {
        try {
          const decoded = atob(encoded);
          const parsed = JSON.parse(decoded);
          const prettified = JSON.stringify(parsed, null, 2);
          output.innerHTML = prettified;
        } catch(e) {}
      }

      function onChange(event) {
        prettify(event.target.value);
      }

      prettify(input.value);
    </script>
  </body>
</html>
